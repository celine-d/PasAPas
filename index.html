<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="style.css" />
  <style>
    body { margin:50;position:fixed;top:50;right:50;bottom:50;left:0; }

body {background-color: #0B243B}
h1   {color: #81F7F3;}	  
h3   {color: #81BEF7;}
h4   {color: #81BEF7;}
br   {color: #FFFFFF;}
	  
  </style>
	
	
</head>

<body>
    <div class="flex-container">
          <div class="flex-child-content">
		  <section id="Titre">
            <h1 class="title" style="text-align:center;  font-family: Tahoma"> Pas a Pas</h1>
            <p>
                <h3<br>(Projet de Data Vizualisation MOS5.5)</br></h3>
    </section>

	
	
	
<section id="description"; >
<h4 class="title"  font-family: Tahoma>Idée projet et problématique</h4>

<br color:white;  font-family: Tahoma>* Nous souhaiterions étudier les données sur la santé et les déplacements que nous pouvons retrouver sur nos téléphones comme le nombre de pas, les distances parcourues, les étages montés etc afin de mettre en évidence plusieurs comportements : journée type travail / week-end / vacances/ saisons.</br> 
<br color:white;  font-family: Tahoma >* Nous pourrions ainsi essayer d’identifier s’il est possible de repérer un schéma ou si, au contraire, il n’est pas possible de mettre en avant un comportement régulier. </br> </P>

<h4 class="title">Données personnelles dont nous aurons besoin</h4>	

<br>* Nombre de pas au quotidien </br>
<br>* Distances parcourues </br>
<br>* Étages montés </br>
<br>* autres données santé : calories brûlées etc. </br>

<h4 class="title">Questions auxquelles nous souhaitons répondre</h4>		

<br>* Peut-on, à l’aide du nombre de pas par heure, mettre en évidence certains types de comportements ? (travail, week-end, vacances) </br>
<br>* Si oui, quelles sont les caractéristiques de ces comportements ? </br>
<br>* Le sujet étudié marche-t-il “assez” par jour ? (contextualisation des données) </br>
<br>* La météo/saison a-t-elle une influence sur la marche ? (faible température, forte température) </br> </P>

<h4 class="title">Comment les collecter ?</h4>

<br>Extraction depuis les applications mobiles (santé sur IOS et Huawei) : fichiers xml récupérés et fichier csv via l’application QS Access. </br> </P>

<h4 class="title">Quels sont les risques pour la collecte/visualisation ? (règles, éthique etc)</h4>

<br>* Sans être un risque, l’un des enjeux sous-jacent est celui de la santé </br>
<br>* Données liées à la santé donc potentiellement sensibles, privées/ à caractère personnel → anonymisation des données </br>
<br>* Sécurité d’accès des données : qui peut y avoir accès ?</br>
<br>* Niveau de précision des outils de mesures non connu </br> </P>


        
    
<h4 class="title">Premières visualisations</h4>
 
<br> * Sur tableau :
        https://public.tableau.com/views/HealthData_22/Comparaisonavecrecommandations?:embed=y&:display_count=yes&publish=yes </br>
        
<br> * Sur d3 : </br>
        <br> https://bl.ocks.org/celine-d/ed0134c25cde81f3295a126c1e5f74ce/4539862c4f31c9d29b9c5fa36d5522ecbaceec63 </br>
       <br> https://bl.ocks.org/lgautill/aad8bb2ad61124e0134753073fb392c6/882852a7da76896e025d876d180c902f055bd561 </br>
              </p>
          </div>
        </div>
</div>
    </section>




<section id="visualisations">
<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <style>
    body { margin:0;position:fixed;top:0;right:0;bottom:0;left:0; }
  </style>
</head>

<body>
  <script>
    
	var margin = {top: 20, right: 10, bottom: 20, left: 20};
    
	var width = 960 - margin.left - margin.right,
    height = 500 - margin.top - margin.bottom;
    
	var svg = d3.select("body").append("svg")
		.attr("width", width + margin.left + margin.right)
		.attr("height", height + margin.top + margin.bottom)
		.append("g")
		.attr("transform", "translate(" + margin.left + "," + margin.top + ")");


  	// parse the date / time
		var parseDate = d3.timeParse("%d-%b-%Y %H:%M"); //pour convertir dans le format date
    
    //2. Générer les données
    d3.csv('https://raw.githubusercontent.com/celine-d/PasAPas/master/Health%20Data_jour.csv',function(error,data){
      data.forEach(function(d){
        d.start=parseDate(d.start); //mettre sous une forme de date année les données
        d.steps=+d.steps; //mettre sous forme de nombre les prix
      });

      
    var x=d3.scaleTime()
    .domain(d3.extent(data,function(data){return data.start;})) //date en x
    .range([30,750])//sur espace graphique
    
    var y=d3.scaleLinear() //fonction de correspondance entre deux rangs de valeurs
    .domain([d3.min(data,function(data){return 		 data.steps;}),d3.max(data,function(data){return data.steps;})]) //données de prix en y
    .range([400,0])//espace sur l'écran que l'on veut occuper
    
    var xAxis = d3.axisBottom()
  	.scale(x); 
    
    var yAxis = d3.axisLeft()
  	.scale(y);
      
    var color = d3.scaleOrdinal(d3.schemeCategory10) // échelle de couleur

     svg.selectAll(".dot")
      .data(data)
    .enter().append("circle")
      .attr("class", "dot")
     	.attr("r", 2.5)
      .attr("cx", function(d) { return x(d.start); })
      .attr("cy", function(d) { return y(d.steps); }) 
    	.style("fill", function(d) {
            if (d.steps <= 10000) {return "red"}
            else 	{ return "green" }
        ;})
    
 		svg.append('g') //groupe dans lequel on met tout pour créer un axe
  	.attr('transform', 'translate(0,' + 400 + ')') //positions (x,y)
  	.attr('class', 'x axis')
  	.call(xAxis)
    
    svg.append('g') //groupe dans lequel on met tout pour créer un axe
    .attr('transform','translate(30,' + 0 + ')')
  	.attr('class', 'y axis')
  	.call(yAxis)
  
   
   
    }); //tout mettre dans le d3.csv() pour utiliser data etc
	  
	    </script>
</body>
	    </section>
  </script>
</body>
